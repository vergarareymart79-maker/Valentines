<style>
    /* ===== VALENTINE PRELOADER ===== */
    .preloader {
        position: fixed;
        inset: 0;
        background: linear-gradient(135deg, #ff758c, #ff7eb3);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        transition: opacity 1s ease, visibility 1s ease;
    }

    .preloader.hidden {
        opacity: 0;
        visibility: hidden;
    }

    .loader-content {
        text-align: center;
        color: white;
        font-family: cursive;
    }

    /* Heart */
    .heart-loader {
        width: 90px;
        height: 90px;
        background: white;
        position: relative;
        transform: rotate(-45deg);
        margin: 0 auto 20px;
        animation: pulse 1.2s infinite ease-in-out;
    }

    .heart-loader::before,
    .heart-loader::after {
        content: "";
        position: absolute;
        width: 90px;
        height: 90px;
        background: white;
        border-radius: 50%;
    }

    .heart-loader::before {
        top: -45px;
        left: 0;
    }

    .heart-loader::after {
        left: 45px;
        top: 0;
    }

    @keyframes pulse {

        0%,
        100% {
            transform: rotate(-45deg) scale(1);
        }

        50% {
            transform: rotate(-45deg) scale(1.2);
        }
    }

    /* Loading text */
    .loading-text {
        font-size: 22px;
        margin-top: 10px;
    }

    /* ===== Gallery Fade In ===== */
    .gallery {
        opacity: 0;
        transform: scale(1.05);
        transition: opacity 1.5s ease, transform 1.5s ease;
    }

    .gallery.reveal {
        opacity: 1;
        transform: scale(1);
    }

    /* ===== PRELOADER ===== */
    .preloader {
        position: fixed;
        inset: 0;
        background: #ff9a9e;
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        transition: opacity 0.6s ease, visibility 0.6s ease;
    }

    .preloader.hidden {
        opacity: 0;
        visibility: hidden;
    }

    /* Heart shape */
    .heart-loader {
        width: 80px;
        height: 80px;
        background: #fff;
        position: relative;
        transform: rotate(-45deg);
        animation: pulse 1s infinite ease-in-out;
    }

    .heart-loader::before,
    .heart-loader::after {
        content: "";
        position: absolute;
        width: 80px;
        height: 80px;
        background: #fff;
        border-radius: 50%;
    }

    .heart-loader::before {
        top: -40px;
        left: 0;
    }

    .heart-loader::after {
        left: 40px;
        top: 0;
    }

    @keyframes pulse {

        0%,
        100% {
            transform: rotate(-45deg) scale(1);
        }

        50% {
            transform: rotate(-45deg) scale(1.2);
        }
    }

    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    .gallery-track {
        position: fixed;
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 0.25rem;
        padding: 0.25rem;
        will-change: transform;
    }

    .card {
        height: 400px;
        overflow: hidden;

        & .card-image-wrapper {
            height: 135%;
            will-change: transform;

            & img {
                width: 100%;
                height: 100%;
                object-fit: cover;
            }
        }
    }

    @media (width < 800px) {
        .gallery-track {
            grid-template-columns: repeat(2, 1fr);
        }
    }

    @media (width < 550px) {
        .gallery-track {
            grid-template-columns: repeat(1, 1fr);
        }
    }
</style>
<main class='gallery'>
    <div class='gallery-track'>
        <div class='card'>
            <div class='card-image-wrapper'>
                <img
                    src='https://scontent.fmnl17-7.fna.fbcdn.net/v/t39.30808-6/516492912_10043140845803955_5020960519658263562_n.jpg?_nc_cat=108&ccb=1-7&_nc_sid=6ee11a&_nc_ohc=22S8AzGfysEQ7kNvwEHPUGn&_nc_oc=Adk317QbyuKaLoHqoQvbo7_sZ9amrRV5ai-d8CExGwjlpvNUKejG_ATWTajKbNZhw8c&_nc_zt=23&_nc_ht=scontent.fmnl17-7.fna&_nc_gid=3-PwsvD_4cqMw6cKyyeI3g&oh=00_Afvbim4M6FxFgmG780Yo5bt-asLjwdTgsjws_R5eptajSQ&oe=6995F842'>
            </div>
        </div>
        <div class='card'>
            <div class='card-image-wrapper'>
                <img
                    src='https://scontent.fmnl17-5.fna.fbcdn.net/v/t39.30808-6/449841020_7679697355481661_1874646778865475065_n.jpg?_nc_cat=110&ccb=1-7&_nc_sid=a5f93a&_nc_ohc=fjnp7ECr8AkQ7kNvwGQFTua&_nc_oc=AdmZX2rre8MYEVb-arAkrbgUD0PFji5hmf33YFcr2AE3PvPAUK1SgNOZ0aTfmSsItaU&_nc_zt=23&_nc_ht=scontent.fmnl17-5.fna&_nc_gid=Rf7lQA32_5ri14GaDozWGQ&oh=00_Afsy3N0_4yNDo3G7T_7ZD4tEAlQLeoF43vEQOyHh2zlXaw&oe=6995F837'>
            </div>
        </div>
        <div class='card'>
            <div class='card-image-wrapper'>
                <img
                    src='https://scontent.fmnl17-5.fna.fbcdn.net/v/t1.6435-9/130243486_3426812774103495_8877060448311701730_n.jpg?stp=dst-jpg_s1080x2048_tt6&_nc_cat=102&ccb=1-7&_nc_sid=bdeb5f&_nc_ohc=g6OsZ6e3PacQ7kNvwHY6zTc&_nc_oc=AdnEBvG08TaaI0WG12kxi8XBuNwN_DaN_5x1YDVFU0QXCKV7Zwi0es1_hzvoLjw4YAg&_nc_zt=23&_nc_ht=scontent.fmnl17-5.fna&_nc_gid=Qfg10jEozfjpZhRHJcF8uw&oh=00_Aftcw22PXlaVfZyu_DSU1Y_L_kaAWPTnSl7lwmKG5UJssQ&oe=69B79367'>
            </div>
        </div>
        <div class='card'>
            <div class='card-image-wrapper'>
                <img
                    src='https://scontent.fmnl17-3.fna.fbcdn.net/v/t1.6435-9/163608024_3685245008260269_2080582338211876926_n.jpg?stp=dst-jpg_s1080x2048_tt6&_nc_cat=106&ccb=1-7&_nc_sid=bdeb5f&_nc_ohc=1RLiItacAr8Q7kNvwHNCqz5&_nc_oc=AdmKNNz0FOplfU9irNHq-_r3CeyZIPvOMtMY76VE0pUZWNSR6HAeW4c36RAnU68XOIU&_nc_zt=23&_nc_ht=scontent.fmnl17-3.fna&_nc_gid=Qfg10jEozfjpZhRHJcF8uw&oh=00_Afu5vIXSUo-6dWP0kDZeSGGmQnpXwuyqEX-bEp2LAi_vlA&oe=69B78CA4'>
            </div>
        </div>
        <div class='card'>
            <div class='card-image-wrapper'>
                <img
                    src='https://scontent.fmnl17-6.fna.fbcdn.net/v/t39.30808-6/481655095_9144671445650904_2541565830559540845_n.jpg?stp=dst-jpg_s1080x2048_tt6&_nc_cat=109&ccb=1-7&_nc_sid=bdeb5f&_nc_ohc=ukxQ2pfJmcMQ7kNvwETTOwf&_nc_oc=AdmaGvxGdGAAa2OB07Ac8TJSc8rEBP0UJ9OLjbOKefT2QJP9JcaXHb6uosZIbPYhURw&_nc_zt=23&_nc_ht=scontent.fmnl17-6.fna&_nc_gid=Qfg10jEozfjpZhRHJcF8uw&oh=00_AfvbG7Msn3H--B4Tx-89-maXHdosSj_VvJCfx1dI3ANjiw&oe=6995DACA'>
            </div>
        </div>
        <div class='card'>
            <div class='card-image-wrapper'>
                <img
                    src='https://scontent.fmnl17-1.fna.fbcdn.net/v/t39.30808-6/487827932_9330190850432295_1768149870579167513_n.jpg?stp=dst-jpg_s1080x2048_tt6&_nc_cat=101&ccb=1-7&_nc_sid=bdeb5f&_nc_ohc=jS0uYY2rhBoQ7kNvwHEeVah&_nc_oc=AdljWlF9L1L0n7C3iwa_w0Xgk-JKuFIP6y2hwh1l40oJTR-iv6lv6o_pZ_uF5nF5AoA&_nc_zt=23&_nc_ht=scontent.fmnl17-1.fna&_nc_gid=Qfg10jEozfjpZhRHJcF8uw&oh=00_Afu1MpZFXJ7a89HjLFKjm8gxUlptrwKJU7npM0x19DfZWg&oe=6995EA15'>
            </div>
        </div>
        <div class='card'>
            <div class='card-image-wrapper'>
                <img
                    src='https://scontent.fmnl17-3.fna.fbcdn.net/v/t39.30808-6/490294505_9396366063814773_2985203509981487297_n.jpg?_nc_cat=103&ccb=1-7&_nc_sid=bdeb5f&_nc_ohc=J5fNwrwNR_8Q7kNvwEPj7gm&_nc_oc=Adk8w8bInBFyU5KBRAluBFx_I_Ut1N4ue5jfxJwxd4qipKXpz1tic_O95b3Cytv02kM&_nc_zt=23&_nc_ht=scontent.fmnl17-3.fna&_nc_gid=Qfg10jEozfjpZhRHJcF8uw&oh=00_AfuZpTcY-icMSwnYkg_EpAuJ9uVZnWAEwUGrZsUSpZnJkQ&oe=6995CF58'>
            </div>
        </div>
        <div class='card'>
            <div class='card-image-wrapper'>
                <img
                    src='https://scontent.fmnl17-7.fna.fbcdn.net/v/t39.30808-6/491924146_9472581879526524_2206222904720460926_n.jpg?_nc_cat=108&ccb=1-7&_nc_sid=bdeb5f&_nc_ohc=VY1O-CnosxMQ7kNvwFiaTWV&_nc_oc=Admjy-OAiQVlxvOFr2wXrx5TEOnLepvaGveJMK4SpLhqxbuNuozoveQ43-VEJGu_E_s&_nc_zt=23&_nc_ht=scontent.fmnl17-7.fna&_nc_gid=Qfg10jEozfjpZhRHJcF8uw&oh=00_AftX1XWeIfxbxiE6kd1e3uZtAdB0h6vhPBRnWddbYFgUcg&oe=6995CEE7'>
            </div>
        </div>
        <div class='card'>
            <div class='card-image-wrapper'>
                <img
                    src='https://scontent.fmnl17-1.fna.fbcdn.net/v/t1.6435-9/69784552_2973710999311780_2464911744405864448_n.jpg?_nc_cat=100&ccb=1-7&_nc_sid=f727a1&_nc_ohc=HxJu5tuQoN8Q7kNvwFg8EZC&_nc_oc=AdmXs1SVQyC1xXIe0sV4k71zlVhA7hS7prC2cwHBL2sg543d78yav-dlLb1qs9DHU6Y&_nc_zt=23&_nc_ht=scontent.fmnl17-1.fna&_nc_gid=xfagp6F4YMqw_pRuYXXGUw&oh=00_AfsJvsk4FzIe9HRYM1-KiDL0KJvki5X92GC6gEeINf2Cow&oe=69B7884A'>
            </div>
        </div>
        <div class='card'>
            <div class='card-image-wrapper'>
                <img
                    src='https://scontent.fmnl17-3.fna.fbcdn.net/v/t1.6435-9/71074055_2973693482646865_9086496458537959424_n.jpg?_nc_cat=103&ccb=1-7&_nc_sid=f727a1&_nc_ohc=41qCjR72EccQ7kNvwGh1OTr&_nc_oc=Adm0f_VnHLmDFNfteUGpzf-FHNWOHn-5_Y8CQ-0PukoqotnZaS5flycbJXuJPmIIfeY&_nc_zt=23&_nc_ht=scontent.fmnl17-3.fna&_nc_gid=nzKKtjeqqPiF7e49rH5RQg&oh=00_AfszZqsUQRni7gQP--s5KU6qHHWyM6wE1IIoxuhLXgmZqQ&oe=69B78ABD'>
            </div>
        </div>
        <div class='card'>
            <div class='card-image-wrapper'>
                <img
                    src='https://scontent.fmnl17-4.fna.fbcdn.net/v/t1.6435-9/69732681_2973710435978503_2337054424884576256_n.jpg?_nc_cat=105&ccb=1-7&_nc_sid=f727a1&_nc_ohc=MUGRedPqQEMQ7kNvwHIkkg8&_nc_oc=AdmSu384TGlBtUd1w6oT3eW-oC0_5JNJYnApKLO6Vzos6zMl8EsB1ZHMRrtTu4-NzJw&_nc_zt=23&_nc_ht=scontent.fmnl17-4.fna&_nc_gid=JIaB3U3dd_7rH7rRgx7nBw&oh=00_Aftq0GYb9DU4lm-EaktHP9sZ9lgKmxBMfPVPz3cdNgLeJw&oe=69B7822F'>
            </div>
        </div>
        <div class='card'>
            <div class='card-image-wrapper'>
                <img
                    src='https://scontent.fmnl17-3.fna.fbcdn.net/v/t1.6435-9/144108643_3545660978885340_1519874469377054840_n.jpg?_nc_cat=103&ccb=1-7&_nc_sid=669761&_nc_ohc=o4kovhdrprcQ7kNvwEG1DPQ&_nc_oc=AdmDeD6GgD9gkjwudeXgk-WZ_H454iWEHhjtkfgO-grwP4K2aPXqyxmv1PSy25bgANE&_nc_zt=23&_nc_ht=scontent.fmnl17-3.fna&_nc_gid=b3t7ZQJkml-LR-oGxIz5Ow&oh=00_AftQhiwX0bJMve7ThtAeO8G4THJLXF5Q8I5zLa-UI9n9xA&oe=69B76B13'>
            </div>
        </div>
        <div class='card'>
            <div class='card-image-wrapper'>
                <img
                    src='https://scontent.fmnl17-2.fna.fbcdn.net/v/t39.30808-6/514528832_9991198827664824_7175860174072321506_n.jpg?_nc_cat=107&ccb=1-7&_nc_sid=127cfc&_nc_ohc=GUgJO0Fx6U0Q7kNvwHrpPuk&_nc_oc=AdksvmlYVPiaKWJBxHYZyXpXDTUbpVHpH-mci54SL__3U41znb7lKiqspLIElr7M2gk&_nc_zt=23&_nc_ht=scontent.fmnl17-2.fna&_nc_gid=EuIHZoVpVWC32KPx0-3MNg&oh=00_AfvIr_2mcLUOUHLkA6pQOTCczEfbVnO0AE29kTjpzrK5Zg&oe=6995DBCA'>
            </div>
        </div>
        <div class='card'>
            <div class='card-image-wrapper'>
                <img
                    src='https://images.unsplash.com/photo-1573455494060-c5595004fb6c?q=80&w=2280&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'>
            </div>
        </div>
        <div class='card'>
            <div class='card-image-wrapper'>
                <img
                    src='https://images.unsplash.com/photo-1627740660376-bc7506720b8a?q=80&w=2340&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'>
            </div>
        </div>
        <div class='card'>
            <div class='card-image-wrapper'>
                <img
                    src='https://images.unsplash.com/photo-1563964040780-8605906e3eb6?q=80&w=2340&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'>
            </div>
        </div>
        <div class='card'>
            <div class='card-image-wrapper'>
                <img
                    src='https://images.unsplash.com/photo-1592507645647-f2f1d8103c86?q=80&w=2487&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'>
            </div>
        </div>
        <div class='card'>
            <div class='card-image-wrapper'>
                <img
                    src='https://images.unsplash.com/photo-1504805572947-34fad45aed93?q=80&w=2340&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'>
            </div>
        </div>
        <div class='card'>
            <div class='card-image-wrapper'>
                <img
                    src='https://images.unsplash.com/photo-1541591681685-0246308f076b?q=80&w=2489&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'>
            </div>
        </div>
        <div class='card'>
            <div class='card-image-wrapper'>
                <img
                    src='https://images.unsplash.com/photo-1539027994943-7d6960acfaad?q=80&w=2535&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'>
            </div>
        </div>
        <div class='card'>
            <div class='card-image-wrapper'>
                <img
                    src='https://images.unsplash.com/photo-1573501815578-6252ee088c47?q=80&w=2283&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'>
            </div>
        </div>
        <div class='card'>
            <div class='card-image-wrapper'>
                <img
                    src='https://images.unsplash.com/photo-1558273246-57d22047406d?q=80&w=2535&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'>
            </div>
        </div>
        <div class='card'>
            <div class='card-image-wrapper'>
                <img
                    src='https://images.unsplash.com/photo-1534685042784-4c7c97ae40d7?q=80&w=2427&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'>
            </div>
        </div>
        <div class='card'>
            <div class='card-image-wrapper'>
                <img
                    src='https://images.unsplash.com/photo-1627740660376-bc7506720b8a?q=80&w=2340&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'>
            </div>
        </div>
    </div>
</main>
<!-- Valentine Preloader -->
<div class="preloader">
    <div class="loader-content">
        <div class="heart-loader"></div>
        <div class="loading-text">
            Loading Love...
            <span id="loadingPercent">0%</span>
        </div>
    </div>
</div>

<!-- Background Music -->
<audio id="bgMusic" loop>
    <source src="Ikaw at Ako - Moira & Jason (Music Video).mp3" type="audio/mpeg">
</audio>

<script>

    window.addEventListener('load', () => {
        const preloader = document.querySelector(".preloader");
        const loadingText = document.getElementById("loadingPercent");
        const gallery = document.querySelector(".gallery");
        const music = document.getElementById("bgMusic");

        const duration = 1000; // duration in milliseconds (3 seconds)
        let startTime = null;

        function updatePercent(timestamp) {
            if (!startTime) startTime = timestamp;
            const elapsed = timestamp - startTime;

            // Calculate percentage
            let percent = Math.min(Math.round((elapsed / duration) * 100), 100);
            loadingText.textContent = percent + "%";

            if (percent < 100) {
                requestAnimationFrame(updatePercent);
            } else {
                // When done, hide preloader and reveal gallery
                preloader.classList.add("hidden");
                gallery.classList.add("reveal");

                // Play background music
                music.volume = 0.5;
                music.play().catch(() => {
                    console.log("Autoplay blocked until user interaction.");
                });

                // Remove preloader after fade-out
                setTimeout(() => preloader.remove(), 1000);
            }
        }

        requestAnimationFrame(updatePercent);
    });




    const gallery = document.querySelector('.gallery');
const track = document.querySelector('.gallery-track');
let cards = Array.from(document.querySelectorAll('.card')); // convert NodeList to array
const easing = 0.05;
let startY = 0;
let endY = 0;
let raf;

// duplicate cards to create infinite effect
cards.forEach(card => {
    const clone = card.cloneNode(true);
    track.appendChild(clone);
});
cards = Array.from(document.querySelectorAll('.card')); // update cards list

const lerp = (start, end, t) => start * (1 - t) + end * t;

function updateScroll() {
    startY = lerp(startY, endY, easing);

    const trackHeight = track.scrollHeight / 2; // because we duplicated
    if (startY >= trackHeight) {
        startY -= trackHeight; // loop back
        endY -= trackHeight;
    }

    gallery.style.height = `${trackHeight}px`;
    track.style.transform = `translateY(-${startY}px)`;

    activateParallax();
    raf = requestAnimationFrame(updateScroll);
}

function startScroll() {
    endY += 1; // auto-scroll speed in px per frame
    cancelAnimationFrame(raf);
    raf = requestAnimationFrame(updateScroll);
}

function parallax(card) {
    const wrapper = card.querySelector('.card-image-wrapper');
    const diff = card.offsetHeight - wrapper.offsetHeight;
    const { top } = card.getBoundingClientRect();
    const progress = top / window.innerHeight;
    const yPos = diff * progress;
    wrapper.style.transform = `translateY(${yPos}px)`;
}

const activateParallax = () => cards.forEach(parallax);

function init() {
    activateParallax();
    raf = requestAnimationFrame(updateScroll);

    // auto-scroll
    setInterval(() => {
        endY += 1; // adjust scroll speed
    }, 16); // ~60fps
}

window.addEventListener('load', init);
window.addEventListener('resize', updateScroll);

</script>